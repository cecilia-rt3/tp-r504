#Dockerfile1


FROM debian:11

# Mise à jour
RUN apt-get update && apt-get -y upgrade

# Installation des dépendances système séparément
RUN apt-get install -y build-essential
RUN apt-get install -y pkg-config
RUN apt-get install -y python-dev-is-python3
RUN apt-get install -y python3-pip
RUN apt-get install -y default-libmysqlclient-dev

# Installation des dépendances Python
RUN python3 -m pip install --upgrade pip && \
    pip3 install flask-mysqldb mysql-connector-python

# Préparation du répertoire applicatif
RUN mkdir -p /srv/templates

# Copie du code applicatif
COPY index.html /srv/templates/index.html
COPY app_1.py /srv/app1.py

# Lancement de l'application Flask
CMD ["flask","--app","/srv/app1.py","run","--host=0.0.0.0"]


