FROM debian:11

# Mise à jour et installation dépendances système
RUN apt-get update
RUN apt-get -y upgrade

RUN apt-get install -y \
      build-essential \
      pkg-config \
      python-dev-is-python3 \
      python3-pip \
      default-libmysqlclient-dev

# Installation des dépendances Python
RUN python3 -m pip install --upgrade pip
RUN pip3 install flask mysql-connector-python

# Préparation du répertoire applicatif
RUN mkdir -p /srv/templates

# Copie du code applicatif
COPY index.html /srv/templates/index.html
COPY app_1.py /srv/app1.py

# Lancement de l'application Flask
CMD ["flask","--app","/srv/app1","run","--host=0.0.0.0"]

