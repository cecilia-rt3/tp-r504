FROM debian:11

# Mise à jour et installation dépendances système
RUN apt-get update
RUN apt-get -y upgrade

RUN apt-get install -y \
      build-essential \
      pkg-config \
      python-dev-is-python3 \
      python3-pip \
      default-libmysqlclient-dev

# Dépendances Python
RUN python3 -m pip install --upgrade pip \
    pip3 install flask mysql-connector-python \

# Répertoire de travail dans le conteneur
WORKDIR /srv

# Pas de COPY ici : on utilisera un bind-mount sur /srv
CMD ["python3", "/srv/app1.py"]

